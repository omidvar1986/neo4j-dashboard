<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Relate Nodes to Database</title>
</head>
<body>
    {% extends 'dashboard/base.html' %}
    {% block header %}{% endblock %}
    {% block nav %}{% endblock %}
    {% block content %}
        <div id="back-to-home" style="position: fixed; top: 10px; right: 10px; z-index: 1000;">
            <a href="{% url 'home' %}" class="button">Back to Home</a>
        </div>
        <h1>Relate Nodes to Database</h1>
        {% if error_message %}
            <p style="color: red;">{{ error_message }}</p>
        {% endif %}
        <form method="post" id="nodes-form">
            {% csrf_token %}
            <h3>Pre-Entered Nodes</h3>
            <table>
                <tr>
                    <th>Node Name</th>
                </tr>
                {% for node in nodes %}
                    <tr>
                        <td>{{ node }}</td>
                    </tr>
                {% endfor %}
            </table>

            <h3>Select Existing Nodes to Relate</h3>
            <ul>
                {% for node in existing_nodes_list %}
                    <li>
                        <input type="checkbox" name="existing_nodes" value="{{ node }}"> {{ node }}
                    </li>
                {% endfor %}
            </ul>

            <button type="submit">Next</button>
        </form>
    {% endblock %}
</body>
</html>
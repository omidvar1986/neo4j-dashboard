{% extends 'dashboard/base.html' %}
{% block content %}
    <h2>Relate Nodes to Database</h2>

    <!-- Error Messages -->
    {% if error %}
        <div style="padding: 10px; margin-bottom: 20px; background-color: #f8d7da; color: #721c24; border: 1px solid #f5c6cb; border-radius: 5px;">
            {{ error }}
        </div>
    {% endif %}

    <!-- Node Form -->
    <form method="post" id="nodes-form" style="max-width: 600px;">
        {% csrf_token %}
        <h3 style="margin-top: 15px; color: #333;">Pre-Entered Nodes</h3>
        <table style="width: 100%; border-collapse: collapse; margin-bottom: 20px;">
            <tr style="background-color: #007bff; color: white;">
                <th style="padding: 10px; text-align: left; border: 1px solid #0056b3;">Node Name</th>
            </tr>
            {% for node in nodes %}
                <tr style="background-color: #f8f9fa;">
                    <td style="padding: 10px; border: 1px solid #ddd;">{{ node }}</td>
                </tr>
            {% endfor %}
        </table>

        <h3 style="margin-top: 15px; color: #333;">Select Existing Nodes to Relate</h3>
        <ul style="list-style-type: none; padding: 0; margin-bottom: 20px;">
            {% for node in existing_nodes_list %}
                <li style="margin-bottom: 5px;">
                    <input type="checkbox" name="existing_nodes" value="{{ node }}" style="margin-right: 5px;">
                    <span style="color: #333;">{{ node }}</span>
                </li>
            {% endfor %}
        </ul>

        <button type="submit" style="padding: 5px 10px; background-color: #28a745; color: white; border: none; border-radius: 5px; cursor: pointer; margin-top: 10px;">Next</button>
    </form>
{% endblock %}
{% extends 'dashboard/base.html' %}
{% block content %}
    <h2>Define Relationships with Existing Nodes</h2>

    <!-- Error Messages -->
    {% if error %}
        <div style="padding: 10px; margin-bottom: 20px; background-color: #f8d7da; color: #721c24; border: 1px solid #f5c6cb; border-radius: 5px;">
            {{ error }}
        </div>
    {% endif %}

    <!-- Relationship Definition Form -->
    <form method="post" style="max-width: 600px;">
        {% csrf_token %}
        <p style="margin-bottom: 10px; color: #333;">Select relationships between new nodes and existing nodes:</p>
        {% for new_node in new_nodes %}
            <h3 style="margin-top: 15px; color: #333;">{{ new_node }}</h3>
            {% for existing_node in existing_nodes %}
                <label style="display: block; margin-bottom: 5px;">
                    <input type="checkbox" name="relations" value="{{ new_node }},{{ existing_node }}" style="margin-right: 5px;">
                    <span>{{ new_node }} âž” {{ existing_node }}</span>
                </label>
            {% endfor %}
            <hr style="margin: 10px 0; border: 0; border-top: 1px solid #ccc;">
        {% endfor %}
        <button type="submit" style="padding: 5px 10px; background-color: #28a745; color: white; border: none; border-radius: 5px; cursor: pointer; margin-top: 10px;">Next</button>
    </form>
{% endblock %}